# Form Submit

Coming soon...

Now that we have a rep log state and the top level, I think it's time to actually make our form works some magic because the goal is when we submit this form, we want to take that data and modify the Rep log state so that we see a new row go onto the table. The form itself lives in, rep logs down near the bottom, but when the form submits, we're going to need to modify the Rep log state which lives on the parent components. So that means we're going to need to communicate up the tree via a callback the same way we're doing that with, by passing in the on row click. 

So let's start by adding a new handle function into our rep log app called handle new items, submit and this will accept and the, the event object, um, from the submit event on the form. And we'll say event that prevent default, which you need to do, just like normal javascript will do that. So the form submit, and then we'll just log a couple of things here. Love when a good form submits, that's also console dot log event.target, because ultimately the form is going to submit, so event that target should represent the form on the DM, which we're going to need because we're going to ultimately need to read off the values of the fields on the form, so now that we have our callback, we need to pass this into rep logs so that rep logs can call it when the form is submitted, so I'll pass in a new prop called on new items. Submit equals this dot handle new items, submit. Now notice I am getting a little bit of naming convention here. I like to name my methods, handle something, and then when I passed them on us props, it's on new, something totally optional, but it's a nice way to go. Of course, now we're in rep logs. We have a new prop called on new items Smith. Let's go ahead and add that down to our prop types as a required function. 

Perfect. We'll pop back up and do our rendering function here. We'll add that as another prop on a new item summits and quite literally now we can say on submit equals on new items, submit. It's that easy, so go back right now the page already refreshed and if we fill out the form here, hit enter, 

nevermind. 

So if we can move over and refresh, then we'll select an item, felons to numbers, and there it is. Every time we submit via enter or click it hits our log and check this out. As promised when we're logging the events that target that actually represents the dom element. That is the form itself, the thing that's submitting when you use normal javascript, a lot of times you need to use event data, current target, but in react to the event object has been changed slightly. So that event, that target is always the element that you found the listener too. So it's always going to be the forum, which is perfect. 

So the next question is how can we read off, for example, our textbox feet field here? Well, if you look, there's our select, here's our input in it has a name on the element called Reps. so we can actually just use normal javascript in the in our browser to go and read that value off of the form. Now, by the way, is if you've read a little bit about forms and react to this, might not feel like what you expected in. Don't worry yet. I'm going to tell a whole story of a couple of different ways to handle forms and reacts in all have their pros and cons, but for now, don't think about this form being anything other than just an html form and when you put data into it, you can read data off of it. So in rep log APP, 

the way to do to get an element off of eight h, you may or may not be familiar with it, but you can say event.target, that elements, that named item. Then you can give it the name of the item. In this case it's reps and now that you have that element, you can say that value, maybe not too familiar, but it's pretty simple to figure that out. So go over and refresh. Select the night men put 50 and enter and there's our 50 read off of our form field. Now before we go further, I want to talk about something philosophical here. Our Rep log APP is all about handling all of our logic and our application, but not doing anything with our markup, so it's a little bit weird because suddenly our handle new items submit is aware that a form was just submitted and that that form has a field in it called reps that were reading off of basically our components. Our Rep log APP component is actually dependent on there being a exact structure down here in red blocks and really the form is actually the responsibility of the rep logs to say it. Another way I'll rep log app really cares about is that when a new rep log is created, however it's created with a form that looks one way or a form that looks another way. Whenever a rep log is created in the system, 

it's handled. New items, submit method should be called. In other words, all of the logic of the form though, reading the elements off the form of even preventing this submit. That's the responsibility of rep logs. So check this out. I'm actually going to copy the inside of this function and I'm going to move most of this call back into rep logs and since this is just a function, I'll put the function up here. Call new function called handle form submit. I'll give that same event argument is normal, and then I'm gonna paste my logic inside of there. 

No, 

I'm going to create a new function, but I'm actually going to put the function right inside of my render. It's going to look a little weird at first. We'll call it function handle form, submit and give it our normal event argument, and then I'm going to paste the logic inside of there. Then down below on the submit, instead of calling the on new items Smith, we're going to call our handle form. Submit. 

Yeah. 

They had a form summit is now responsible for calling event that prevent default. It's even smart enough to know about the form structure, so reads off the names of the fields and then at the bottom it can finally call on new items, submit. That's actually why I put the function inside of render so that we have access to are on new items, summit props and eventually we're actually going to. I'm not going to do it yet, but we'll actually pass in the actual data that was, um, from our form here. And then up in on new items summit. I'm actually just going to make it empty for now with the console dot log to do eventually this will have little receive at the bottom. We can call the handle form, submit and we can actually pass it. The item that was selected right now I'm just going to hard code one end so you can see what I mean. And then you know the actual number of reps and then above and the apparent class, that means we'll actually, I'm going to delete everything here. This is just going to receive kind of like, um, item name and rep count 

reps 

and then I'll just put a little to do there and we'll actually print out that data. So you see now like our rep log app still has this call back that they want to be called, but now it can. It's agnostic of there being a form. It doesn't care how new rep logs are credited, it just says when a new rep log is created, you should call me. And all of our logic for handling it is the foreign stuff is handled down here. So if we go back right now and refresh, we can fill in some items here and you see our data. Okay. The big fat cat is just hard coded but 45 comes through because that was actually passed or parent element. 

So yeah, let's leave it there.