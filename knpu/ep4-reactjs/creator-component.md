# Creator Component

Coming soon...

Inside rep logs, the form logic is starting to get pretty big. We have a handler function and most of the market was taken. 

Uh, 

most of the markup is actually from the form system, and this is only gonna get more complex as we, uh, finished, uh, filling out our form functionality. So for that reason to reduce complexity and this components, I think that we should take the form and put it into a new functional components. Remember we have our top, top level smart component rep log app. It renders are dumb component rep logs, but if we want to we can totally create other components to help us organize stuff. So that's what we're going to do inside the rep log directory credit, new file called Rep log creator, that js. This will contain our form logic. Then I'm going to form a rep log list because this is another functional components. I'll copy the import statements, paste them there, and then we'll export default function rep log creator with the normal props argument. And for now I'm just going to return hardcore to div. I'm going to be a forum when I grow up. 

Perfect 

back in rep logs 

on top, 

we can import rep log creator from rep, blog creator, and just to see if things are working, we'll go down right above where the actual form is. Will render rep lot greater and with any luck, want to move over and refresh? Yes, there we go. We got the text right in the middle of the page. With that done, let's actually move the form logic into that class, so we'll copy it from rep logs, remove it, then going to rep reblog greater and just paste. Excellent. Now, not surprisingly, if we move over and try this, 

yeah, it's not happy. His handle form submit is not defined. This is coming from lines six of Rep log creator. It's the on submit or referencing that function. That doesn't exist, so no surprise. Let's just go over here and we'll move that hand, the form submit also over indirect blog creator, and this is good because you can see that our rep logs component is getting simpler and simpler. Now, of course, the last part is that when when we handle the form, submit and get the values that we ultimately want to call our on new items. Submit callback. This is passed from rep log app, indirect logs, and now rep logs needs to pass this once again into our rep log creator. So since our rep log creator needs a new prop, let's go down to the bottom at our crop type for it will say rep log creator, that prop types equals and then we can go to rep logs and actually steal this since the prop is being passed down to levels. Excellent. And now that we are requiring this prop, let's go back up to our render function and we'll use destructuring to get the new on new items, submit out of our props. 

Perfect. Everything looks happy and finally passed that in inside of rep locks. You can see it's highlighting our rep log. Greater is missing that prop, which is really nice. So we'll say on new items, submit equals on new items. Submit few. So a little bit of shuffling around code, but when we move over in refresh the form renders and we can select something and it does print successfully. Awesome. So while we're here right now, our handler function instead of rep log creator is using the name of the element, the name of our input element to actually get a reference to this dom elements so that we can then gets valued by calling dot value. There's actually a much easier, a much more powerful system in react when you need to reference a specific element in the DM. 

Hold on a second. 

Whenever you need to reference a specific element and the dumb, there was an easier way than using the name elements. There's actually a system. The system is called reps and it's the way that you can access the underlying dom element of any of your react element objects. 

Now, the best way to. There's a couple of different ways to use this refs system, but the best and recommended way requires your the components to actually be a class. So remember, we're using these functional components because when you have your dumb stateless components, most of the time you don't need a class, but there are a few reasons why your dumb components. Sometimes we'll need to be a class and as soon as you hit one of those no big deal, we just re factored into a class reps as one of the areas is one of those. So no problem. We're let's now for react and also components from react and then we'll export default class rep log creator extends components. Of course, as soon as we do this, this is now going to be inside of a render function. So we'll copy everything, have it out and then close it. Yeah, that makes webpack happy. Again, of course, now that we have a proper class, we don't need to put the hand the form submit inside of our render anymore because we can access the props as a property. So I'm going to copy that function 

and actually the actually the constant above it also and then paste and call this handle new items, submit and turn that into a property. And I'm also going to move the const into this and change this to this dot props. 

Oh, and I've messed up my syntax there. Perfect. So a few things going on here. And then down below will now say this dot hand a form submit. So this is purely just because when you have a class, it's nice to organize things into properties on the class. So now calling this stuff handled form, submit an inside handle on Hana forma hand. A form former summit is actually where we knew we needed the prop, so we use this dot props to fetch that and there's still one tiny problem with this, but I want to see the problem so we can debug it. Everything looks good on the form when you fill it in, we get a huge error. In fact, the air even caused the form to resubmit and actually that was because I need to put my event dot prevent default first. You'll see why in a second. Let's go back and actually try that again. 

Perfect. Here's the error. It says cannot read property props of undefined, and that's on rep log dot js line seven. So you can see what's happening here is this is not defined because we'd never bound our function inside of the constructor. I wanted to see the air so that we could fix this. Well, whenever we have a callback function, we always want to have a constructor. Of course we call the super constructor and then say, this got handled form submit equals this dot handle form. Submit that, find, find this and that'll fix it. Now the reason we didn't see the a second ago is we always want to have event that prevent default first in case something goes wrong, it will at least prevent the form submit and then see the errors. That was my bad for swapping those and you can see why we want them in that order. Going to go over right now and refresh on some items. Hit Enter and yes, we are getting our form submit information. Perfect. So let's keep going and use refs to clean up our form logic a little bit.